<!DOCTYPE html>
<html lang="en">
<head>
  <title>Material Starter</title>

  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="description" content="">
  <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
  <link rel="stylesheet" href="scripts/angular-material/angular-material.min.css"/>
<link rel="stylesheet" href="scripts/event/angular-material-event-calendar.min.css" />
<link href="css/icon.css?family=Material+Icons" rel="stylesheet">

<script>
   var openwindows =window.open;
</script>
<script src="cordova.js"></script>
<script type="text/javascript" src="phonegap.js"></script>
<!--<script src="scripts/ng-cordova.min.js"></script>-->

 
     <script>
        console.log(window.open);
        document.addEventListener("deviceready", onDeviceReady, false);
         function onDeviceReady() {
           delete window.open // Reverts the call back to it's prototype's default
            window.open =  openwindows;
         }
     </script>

</head>

<body ng-app="materialApp" layout="column" flex ng-controller="appCtrl as app">

    <md-sidenav md-disable-scroll-target class="md-sidenav-left md-whiteframe-4dp ng-cloak" md-component-id="left">

        <md-toolbar class="md-toolbar-tools" layout="row" layout-align="center-center">

            <md-button ng-click="app.toggleLeft()" class="md-icon-button" aria-label="Close User Menu">
            <md-icon ng-style="{color: '#fff'}" class="material-icons step ng-binding md-24" role="img">menu</md-icon>
            </md-button>

            <h3 class="md-toolbar-tools">AFES - 2017</h3>
        
        </md-toolbar>

       
   <div  ng-repeat="links in app.grids">
   <md-menu-item>
         <md-menu>
            <md-list-item layout="row">
               <span ng-click="app.openLink(links.link,links.params);app.toggleLeft()" flex="90">{{links.name}}</span>
               <!--<md-icon ng-if="links.list && links.list.length" ng-style="{color: '#000'}" ng-click="$mdMenu.open()" class="material-icons step ng-binding md-24" role="img">menu</md-icon>-->
            </md-list-item>
            <md-menu-content>
               <md-menu-item ng-repeat="inner_links in links.list">
                  <md-button  ng-click="app.openLink(inner_links.link,inner_links.params);app.toggleLeft()">{{inner_links.name}}</md-button>
               </md-menu-item>
            </md-menu-content>
         </md-menu>
      </md-menu-item>
      <md-divider></md-divider>
   </div>
    </md-sidenav>

    <md-sidenav class="md-sidenav-right md-whiteframe-4dp ng-cloak" md-component-id="right">

        <md-toolbar class="md-toolbar-tools" layout="row" layout-align="space-between-center">
            <h3 class="md-toolbar-tools">User Menu</h3>
            
            <md-button ng-click="app.toggleRight()" class="md-icon-button" aria-label="Close User Menu">
            <md-icon ng-style="{color: '#fff'}" class="material-icons step ng-binding md-24" role="img">
               account_box</md-icon>
            </md-button>

        </md-toolbar>
      <md-divider></md-divider>
      <md-list-item layout="row" ng-click="app.showAdvanced($event);app.toggleRight()" ng-if="!userID">
         <span>Login</span>
      </md-list-item>
      <md-divider></md-divider>
      <md-list-item layout="row" ng-click="app.showAdvancedSignup($event);app.toggleRight()" ng-if="!userID">
         <span>Signup</span>
      </md-list-item>
      <md-list-item layout="row" ng-click="app.showAdvancedHelp($event);app.toggleRight()" ng-if="userID">
         <span>Add Help Desk</span>
      </md-list-item>
      <md-divider></md-divider>
      <md-list-item layout="row" ng-click="logout();app.toggleRight()" ng-if="userID">
         <span>Logout</span>
      </md-list-item>
      <md-divider></md-divider>
      <!--<md-list-item layout="row" ng-click="app.showAdvanced($event);app.toggleRight()">
         <span>Logout</span>
      </md-list-item>-->
      <md-divider></md-divider>

    </md-sidenav>




<div style="width:100%" class="ng-cloak">
   
    <md-toolbar  class="toolbar">
        <div layout="row" layout-align="center center" layout-wrap class="md-toolbar-tools">

            <md-button ng-click="app.toggleLeft()" class="md-icon-button" aria-label="Main Menu">
             
            <md-icon ng-style="{color: '#fff'}" class="material-icons step ng-binding md-24" role="img">menu</md-icon>
            </md-button>

            <span ui-sref="default" flex layout-align="center center" class="text-left" ng-if="title && title != 'page'">{{title}}</span>
            <span ui-sref="default" flex layout-align="center center" class="text-left" ng-if="title && title == 'page'">{{pageTitle}}</span>
            <span></span>
           

            <md-button ng-click="app.toggleRight()" class="md-icon-button" aria-label="User Menu">

            <md-icon ng-style="{color: '#fff'}" class="material-icons step ng-binding md-24" role="img">
               account_box</md-icon>
            </md-button>

        </div>
      

      
 
    </md-toolbar>
  

    <div autoscroll="false" ui-view ></div>
   
</div>
<script src="scripts/angular/angular.min.js"></script>
<script src="scripts/angular/angular-resource.min.js"></script>
<script src="scripts/angular-animate/angular-animate.min.js"></script>
<script src="scripts/angular-aria/angular-aria.min.js"></script>
<script src="scripts/angular-material/angular-material.min.js"></script>
<script src="moment.min.js"></script>
<script type="text/javascript" src="scripts/angular-ui-router/release/angular-ui-router.min.js"></script>
<script src="scripts/event/angular-material-event-calendar.min.js"></script>
<script src="scripts/angular-material/angular-material.min.js"></script>
<script src="modules/cards/controllers/cardsCtrl.js"></script>
<script src="modules/cards/services/cardsService.js"></script>

<script src="modules/list/controllers/listCtrl.js"></script>
<script src="modules/list/services/listService.js"></script>

<script src="modules/tabs/controllers/tabsCtrl.js"></script>
<script src="modules/tabs/services/tabsService.js"></script>

<script src="app.controller.js"></script>
<script>
         (function () {
            'use strict';

            angular.module('jkAngularCarousel', [
               'jkAngularCarousel.templates'
            ]);
         }());

         (function () {
            'use strict';

            function CarouselController($timeout, $attrs, $interval, $window) {

               var that = this;
               that.currentIndex = 0;
               that.currentMarginLeftValue = 0;
               that.radioButtonIndex = 0;
               that.transitionsTime = 500;
               that.transitionsEnabled = true;

               $attrs.$observe('data', function () {
                  that.onDataChange();
               });

               that.registerElement = function (element) {
                  that.element = element;
                  that.elementParent = that.element.parent();
                  that.slidesContainer = angular.element(that.element.find('div')[0]);
                  $window.addEventListener('resize', function () {
                     that.updateSlidesContainerWidth();
                  });
               };

               that.onDataChange = function () {
                  if (that.isDataInvalidOrTooSmall()) {
                     return;
                  }
                  that.executeCloneData();
                  $timeout(function () {
                     that.updateSlidesContainerWidth();
                     that.restartFromFirstItem();
                  });
               };

               that.updateSlidesContainerWidth = function () {
                  that.scaleContent();
                  that.currentWidth = that.element.prop('offsetWidth');
                  that.currentHeight = that.element.prop('offsetHeight');
                  that.resizeSlides();
                  var newSlidesContainerWidth = that.currentWidth * that.cloneData.length;
                  that.slidesContainer.css('width', newSlidesContainerWidth + 'px');
                  that.scaleMarginLeft(newSlidesContainerWidth);
                  that.currentSlidesContainerWidth = newSlidesContainerWidth;
               };

               that.scaleContent = function () {
                  that.maxWidth = that.maxWidth ? parseInt(that.maxWidth) : 0;
                  if (that.maxWidth === 0) {
                     that.maxWidth = that.element.prop('offsetWidth');
                  }
                  that.maxHeight = that.maxHeight ? parseInt(that.maxHeight) : 0;
                  if (that.maxHeight === 0) {
                     that.maxHeight = that.element.prop('offsetHeight');
                  }
                  var currentElementParentWidth = that.elementParent.prop('offsetWidth');
                  if (currentElementParentWidth < that.maxWidth) {
                     console.log(currentElementParentWidth, that.maxWidth);
                     var newHeight = (that.maxHeight * currentElementParentWidth) / that.maxWidth;
                     that.element.css('width', '100%');
                     that.element.css('height',  '240px');
                  } else if (currentElementParentWidth >= that.maxWidth) {
                     that.element.css('width', that.maxWidth + 'px');
                     that.element.css('height', that.maxHeight + 'px');
                  }
               };

               that.resizeSlides = function () {
                  var slides = $window.document.getElementsByClassName('slide');
                  for (var index = 0; index < slides.length; index++) {
                     var slide = angular.element(slides[index]);
                     slide.css('width', that.currentWidth + 'px');
                     slide.css('height', that.currentHeight + 'px');
                  }
               };

               that.scaleMarginLeft = function (newSlidesContainerWidth) {
                  if (
                     that.currentSlidesContainerWidth &&
                     that.currentSlidesContainerWidth !== newSlidesContainerWidth
                  ) {
                     that.currentMarginLeftValue = that.currentMarginLeftValue * newSlidesContainerWidth;
                     that.currentMarginLeftValue = that.currentMarginLeftValue / that.currentSlidesContainerWidth;
                     that.disableTransitions();
                     that.applyMarginLeft();
                     that.enableTransitions();
                  }
               };

               that.restartFromFirstItem = function () {
                  if (!that.currentWidth) {
                     return;
                  }
                  that.disableTransitions();
                  that.currentMarginLeftValue = that.currentWidth * -1;
                  that.applyMarginLeft();
                  that.currentIndex = 0;
                  that.radioButtonIndex = that.currentIndex;
                  that.enableTransitions();
               };

               that.executeCloneData = function () {
                  var cloneArray = [];
                  for (var index = 0; index < that.data.length; index++) {
                     var item = that.data[index];
                     cloneArray.push(item);
                  }
                  that.cloneFirstItem(cloneArray);
                  that.cloneLastItem(cloneArray);
                  that.cloneData = cloneArray;
               };

               that.cloneFirstItem = function (cloneArray) {
                  var firstItem = cloneArray[0];
                  var firstItemClone = angular.copy(firstItem);
                  cloneArray.push(firstItemClone);
               };

               that.cloneLastItem = function (cloneArray) {
                  var lastItem = cloneArray[that.data.length - 1];
                  var lastItemClone = angular.copy(lastItem);
                  cloneArray.unshift(lastItemClone);
               };

               that.validateAutoSlide = function () {
                  if (!that.autoSlide) {
                     that.stopAutoSlide();
                  } else {
                     that.startAutoSlide();
                  }
               };

               that.restartAutoSlide = function () {
                  if (!that.autoSlide) {
                     return;
                  }
                  if (that.transitionsEnabled) {
                     $timeout(function () {
                        that.stopAutoSlide();
                        that.startAutoSlide();
                     }, that.transitionsTime);
                  } else {
                     that.stopAutoSlide();
                     that.startAutoSlide();
                  }
               };

               that.startAutoSlide = function () {
                  if (!angular.isDefined(that.autoSlideInterval)) {
                     that.autoSlideInterval = $interval(function () {
                        that.navigateRight();
                     }, that.autoSlideTime);
                  }
               };

               that.stopAutoSlide = function () {
                  if (angular.isDefined(that.autoSlideInterval)) {
                     $interval.cancel(that.autoSlideInterval);
                     that.autoSlideInterval = undefined;
                  }
               };

               that.onNavigateLeft = function () {
                  that.navigateLeft();
                  that.restartAutoSlide();
               };

               that.navigateLeft = function () {
                  if (that.isDataInvalidOrTooSmall()) {
                     return;
                  }
                  that.currentIndex--;
                  that.radioButtonIndex = that.currentIndex;
                  that.currentMarginLeftValue += that.currentWidth;
                  that.applyMarginLeft();
                  that.restartAutoSlide();
                  if (that.currentIndex === -1) {
                     that.restartFromLastItem();
                  }
               };

               that.restartFromLastItem = function () {
                  $timeout(function () {
                     that.disableTransitions();
                     that.currentMarginLeftValue = (that.currentWidth * that.data.length) * -1;
                     that.applyMarginLeft();
                     that.currentIndex = that.data.length - 1;
                     that.radioButtonIndex = that.currentIndex;
                     that.enableTransitions();
                  }, that.transitionsTime);
               };

               that.onNavigateRight = function () {
                  that.navigateRight();
                  that.restartAutoSlide();
               };

               that.navigateRight = function () {
                  if (that.isDataInvalidOrTooSmall()) {
                     return;
                  }
                  that.currentIndex++;
                  that.radioButtonIndex = that.currentIndex;
                  that.currentMarginLeftValue -= that.currentWidth;
                  that.applyMarginLeft();
                  that.restartAutoSlide();
                  if (that.currentIndex === that.data.length) {
                     $timeout(function () {
                        that.restartFromFirstItem();
                     }, that.transitionsTime);
                  }
               };

               that.applyMarginLeft = function () {
                  that.slidesContainer.css('margin-left', that.currentMarginLeftValue + 'px');
               };

               that.disableTransitions = function () {
                  that.slidesContainer.css('transition', 'none');
                  that.transitionsEnabled = false;
               };

               that.enableTransitions = function () {
                  $timeout(function () {
                     that.slidesContainer.css('transition', 'margin 0.5s ease-in-out');
                     that.transitionsEnabled = true;
                  }, 200);
               };

               that.onRadioButtonClick = function () {
                  var multiplier;
                  if (that.radioButtonIndex > that.currentIndex) {
                     multiplier = that.radioButtonIndex - that.currentIndex;
                     that.currentMarginLeftValue -= (that.currentWidth * multiplier);
                  } else {
                     multiplier = that.currentIndex - that.radioButtonIndex;
                     that.currentMarginLeftValue += (that.currentWidth * multiplier);
                  }
                  that.currentIndex = that.radioButtonIndex;
                  that.applyMarginLeft();
                  that.restartAutoSlide();
               };

               that.isDataInvalidOrTooSmall = function () {
                  if (!that.data || that.data.length === 0) {
                     return true;
                  }
                  return false;
               };
            }

            angular
               .module('jkAngularCarousel')
               .controller('JKCarouselController', [
                  '$timeout', '$attrs', '$interval', '$window',
                  CarouselController
               ]);

         }());

         (function () {

            'use strict';

            function CarouselDirective() {

               function link(scope, element, attrs, ctrl) {
                  if (attrs.autoSlide === undefined) {
                     ctrl.autoSlide = false;
                  }
                  if (attrs.autoSlideTime === undefined) {
                     ctrl.autoSlideTime = 5000;
                  }
                  ctrl.registerElement(element);
                  scope.$on('$destroy', function () {
                     ctrl.stopAutoSlide();
                  });
                  scope.$watch('ctrl.autoSlide', function () {
                     ctrl.validateAutoSlide();
                  });
                  scope.$watch('ctrl.autoSlideTime', function () {
                     ctrl.restartAutoSlide();
                  });
               }

               return {
                  restrict: 'E',
                  replace: true,
                  templateUrl: 'carousel-directive.html',
                  scope: {},
                  controller: 'JKCarouselController',
                  controllerAs: 'ctrl',
                  bindToController: {
                     data: '=',
                     itemTemplateUrl: '=',
                     maxWidth: '@?',
                     maxHeight: '@?',
                     autoSlide: '@?',
                     autoSlideTime: '@?'
                  },
                  link: link
               };
            }

            angular
               .module('jkAngularCarousel')
               .directive('jkCarousel', [
                  CarouselDirective
               ]);

         }());

         (function () { angular.module("jkAngularCarousel.templates", []).run(["$templateCache", function ($templateCache) { $templateCache.put("carousel-directive.html", "<div class=\"jk-carousel\" >\n\n  <div class=\"slides-container\" layout=\"row\" >\n    <div\n      ng-repeat=\"slideItem in ctrl.cloneData\"\n      class=\"slide\"\n    >\n      <div ng-include=\"ctrl.itemTemplateUrl\" ></div>\n    </div>\n  </div>\n\n  <md-button class=\"md-icon-button left-arrow-button\" >\n    <md-icon ng-click=\"ctrl.navigateLeft()\" >chevron_left</md-icon>\n  </md-button>\n\n  <md-button class=\"md-icon-button right-arrow-button\" >\n    <md-icon ng-click=\"ctrl.navigateRight()\" >chevron_right</md-icon>\n  </md-button>\n\n  <md-radio-group\n    class=\"radio-buttons-container\"\n    layout=\"row\"\n    ng-model=\"ctrl.radioButtonIndex\"\n    layout-align=\"center center\"\n    ng-change=\"ctrl.onRadioButtonClick()\" >\n    <md-radio-button\n      ng-repeat=\"item in ctrl.data\"\n      ng-value=\"$index\"\n      aria-label=\"$index\" >\n    </md-radio-button>\n  </md-radio-group>\n\n</div>\n"); }]); })();
</script>

<script src="app.js"></script>
<script src="app.routes.js"></script>

</body>
</html>